<div class="page-header">
	<h2>
		Charts <a class="btn btn-primary pull-right" ng-click="createItem()"><i class="icon-plus-sign icon-white"></i> Add Chart State</a>
	</h2>
</div>
<alert ng-repeat="alert in alerts" type="alert.type">{{alert.message}}</alert>
<form role="form">
	<div class="input-prepend">
		<div class="btn-group">
			<button class="btn" type="button" ng-click="findChartPositions(item.identifier, chartState.date)" ng-model="chartState.chart" ng-repeat="item in charts" btn-radio="item.identifier">{{item.name}}</button>
		</div>
		<input class="span3" type="week" placeholder="Week" ng-change="findChartPositions(chartState.chart, chartState.date)" ng-model="chartState.date" required />
	</div>
</form>
<div class="panel panel-default scrollable-bordered" ng-show="chartPositions.length > 0">
	<table class="table table-condensed table-hover table-striped">
		<thead>
			<tr>
				<th>Position</th>
				<th>Artist</th>
				<th>Title</th>
				<th></th>
			</tr>
		</thead>
		<tbody ng-model="chartPositions" ui-sortable="sortableOptions">
			<tr ng-repeat="chartPosition in chartPositions">
				<td><span class="badge" ng-class="chartPositionClass(chartPosition.position)">{{chartPosition.position}}</span></td>
				<td>{{chartPosition.song.artist.name}}</td>
				<td>{{chartPosition.song.name}}</td>
				<td>
					<div class="pull-right">
						<button class="btn btn-danger btn-sm" ng-click="deleteItem(chartPosition)">
							<i class="icon-remove icon-white"></i>
						</button>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
</div>